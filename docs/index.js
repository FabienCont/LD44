!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=39)}([function(t,e,n){"use strict";function i(t,e){this.components={},this.name=t,this.add=function(t){var e=this;t.forEach(function(t){e.components[t.name]=t})},this.get=function(t){return this.components[t]},this.has=function(t){"string"==typeof t&&(t=[t]);for(var e=0,n=t.length;e<n;e+=1){var i=t[e],s=i.replace("not:",""),o=i!==s;if(this.components.hasOwnProperty(s)===o)return!1}return!0},this.remove=function(t){for(var e=0,n=t.length;e<n;e+=1){var i=t[e];!0===this.components.hasOwnProperty(i)&&delete this.components[i]}},this.add(e)}function s(t){this.entities=[],this.add=function(t){this.entities.push(t)},this.get=function(t){for(var e=0,n=this.entities.length;e<n;e+=1){var i=this.entities[e];if(i.name===t)return i}},this.remove=function(t){this.entities.splice(this.entities.indexOf(t),1)},this.system=function(e,n){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.entities).forEach(function(i){!0===i.has(e)&&n.call(t,i)})}}n.d(e,"b",function(){return s}),n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t,e){this.x=t,this.y=e}function s(t,e,n,i){this.height=i,this.width=n,this.x=t,this.y=e}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s})},function(t,e,n){"use strict";function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.name="position",this.x=t,this.y=e,this.z=n}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t){this.name="clickable",this.action=t}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t,e){this.name="hitbox",this.width=t,this.height=e}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"black";this.name="text",this.text=t,this.color=e}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t){this.name="background",this.color=t}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t,e){function n(t){t.preventDefault()}function i(t){var n=t.button,i=["LEFT","MIDDLE","RIGHT"];if(void 0!==i[n]){var s=t.target.getBoundingClientRect(),o=t.clientX-s.left,a=t.clientY-s.top;e.push({type:"MOUSE",action:"CLICK_"+i[n],state:"DOWN",x:o,y:a}),t.preventDefault()}}function s(t){var n=t.target.getBoundingClientRect(),i=t.clientX-n.left,s=t.clientY-n.top;e.push({type:"MOUSE",action:"MOVE",state:"ENTER",x:i,y:s}),t.preventDefault()}function o(t){var n=t.target.getBoundingClientRect(),i=t.clientX-n.left,s=t.clientY-n.top;e.push({type:"MOUSE",action:"MOVE",state:"LEAVE",x:i,y:s}),t.preventDefault()}function a(t){var n=t.target.getBoundingClientRect(),i=t.clientX-n.left,s=t.clientY-n.top;e.push({type:"MOUSE",action:"MOVE",x:i,y:s}),t.preventDefault()}function r(t){var n=t.button,i=["LEFT","MIDDLE","RIGHT"];if(void 0!==i[n]){var s=t.target.getBoundingClientRect(),o=t.clientX-s.left,a=t.clientY-s.top;e.push({type:"MOUSE",action:"CLICK_"+i[n],state:"UP",x:o,y:a}),t.preventDefault()}}function c(){t.addEventListener("contextmenu",n),t.addEventListener("mousedown",i),t.addEventListener("mouseenter",s),t.addEventListener("mouseleave",o),t.addEventListener("mousemove",a),t.addEventListener("mouseup",r),t.addEventListener("wheel",u)}function u(t){var n=t.target.getBoundingClientRect(),i=t.clientX-n.left,s=t.clientY-n.top;e.push({type:"MOUSE",action:"SCROLL_"+(t.deltaY>0?"DOWN":"UP"),x:i,y:s}),t.preventDefault()}c.call(this),this.destroy=function(){t.removeEventListener("contextmenu",n),t.removeEventListener("mousedown",i),t.removeEventListener("mouseenter",s),t.removeEventListener("mouseleave",o),t.removeEventListener("mousemove",a),t.removeEventListener("mouseup",r),t.removeEventListener("wheel",u)},this.setup=c}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),s={collidePointPoint:function(t,e){if(t.x!==e.x||t.y!==e.y)return!1;return!0},collidePointRectangle:function(t,e){if(t.x<e.x||t.x>e.x+e.width||t.y<e.y||t.y>e.y+e.height)return!1;return!0},collideRectangleRectangle:function(t,e){if(t.x+t.width<e.x||t.x>e.x+e.width||t.y+t.height<e.y||t.y>e.y+e.height)return!1;return!0}};function o(t,e){var n=[],o="collide";return t instanceof i.a==!0&&(n.push(t),o+="Point"),e instanceof i.a==!0&&(n.push(e),o+="Point"),-1===n.indexOf(t)&&t instanceof i.b==!0&&(n.push(t),o+="Rectangle"),-1===n.indexOf(e)&&e instanceof i.b==!0&&(n.push(e),o+="Rectangle"),s[o].apply(null,n)}},function(t,e,n){"use strict";function i(){this.name="activate"}n.d(e,"a",function(){return i})},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";function i(t,e){this.name="question",this.text=t,this.callback=e}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.r(e),function(t){var i=n(13);n.d(e,"destroy",function(){return i.a});var s=n(14);n.d(e,"render",function(){return s.a});var o=n(15);n.d(e,"setup",function(){return o.a});var a=n(16);n.d(e,"start",function(){return a.a});var r=n(17);n.d(e,"update",function(){return r.a}),void 0!==t.hot&&t.hot.accept(["./destroy.js","./render.js","./setup.js","./start.js","./update.js"])}.call(this,n(10)(t))},function(t,e,n){"use strict";function i(){console.log("destroy loading scene"),console.log("-------"),delete this.state.redirect}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(){this.context.fillStyle="#181a1f",this.context.fillRect(0,0,this.size.width,this.size.height),this.context.font="16px Courier New",this.context.textAlign="start",this.context.textBaseline="top",this.context.fillStyle="#6b717d",this.context.fillText("/ Theatre",8,8),this.context.fillStyle="#d7dae0",this.context.fillText("$ preloading assets...",8,32),!1===this.preloading&&(this.context.fillText("$ preloading completed",8,56),this.context.fillText("$ loading demo scene...",8,80))}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(){console.log("setup loading scene")}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(){console.log("start loading scene"),this.state.redirect=!1}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(){var t=this;!1===this.preloading&&!1===this.state.redirect&&(setTimeout(function(){t.load("splashscreen")},0),this.state.redirect=!0)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.r(e),function(t){var i=n(19);n.d(e,"destroy",function(){return i.a});var s=n(35);n.d(e,"render",function(){return s.a});var o=n(20);n.d(e,"setup",function(){return o.a});var a=n(29);n.d(e,"start",function(){return a.a});var r=n(32);n.d(e,"update",function(){return r.a}),void 0!==t.hot&&t.hot.accept(["./destroy.js","./render.js","./setup.js","./start.js","./update.js"])}.call(this,n(10)(t))},function(t,e,n){"use strict";function i(){console.log("destroy splashscreen scene"),console.log("-------"),this.state={},delete this.world}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(7);function s(){console.log("setup splashscreen scene"),this.state.inputs=[];new i.a(this.context.canvas,this.state.inputs)}},function(t,e,n){"use strict";n.r(e),function(t){var i=n(22);n.d(e,"destroy",function(){return i.a});var s=n(28);n.d(e,"render",function(){return s.a});var o=n(23);n.d(e,"setup",function(){return o.a});var a=n(31);n.d(e,"start",function(){return a.a});var r=n(30);n.d(e,"update",function(){return r.a}),void 0!==t.hot&&t.hot.accept(["./destroy.js","./render.js","./setup.js","./start.js","./update.js"])}.call(this,n(10)(t))},function(t,e,n){"use strict";function i(){console.log("destroy demo scene"),console.log("-------"),this.state={},delete this.world}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(7);function s(){this.state.inputs=[],console.log("setup demo scene");new i.a(this.context.canvas,this.state.inputs)}},function(t,e,n){"use strict";n.r(e),function(t){var i=n(25);n.d(e,"destroy",function(){return i.a});var s=n(26);n.d(e,"render",function(){return s.a});var o=n(27);n.d(e,"setup",function(){return o.a});var a=n(34);n.d(e,"start",function(){return a.a});var r=n(33);n.d(e,"update",function(){return r.a}),void 0!==t.hot&&t.hot.accept(["./destroy.js","./render.js","./setup.js","./start.js","./update.js"])}.call(this,n(10)(t))},function(t,e,n){"use strict";function i(){console.log("destroy ending scene"),console.log("-------"),this.state={},delete this.world}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(){this.context.fillStyle="#181a1f",this.context.fillRect(0,0,this.size.width,this.size.height),this.context.font="16px Courier New",this.context.textAlign="start",this.context.textBaseline="top",this.context.fillStyle="#6b717d",this.context.fillText("You Loose",8,8),this.context.fillStyle="#d7dae0",this.context.fillText("click to start Again...",8,32)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(7);function s(){console.log("setup ending scene"),this.state.inputs=[];new i.a(this.context.canvas,this.state.inputs)}},function(t,e,n){"use strict";function i(t){var e=t.get("text"),n=t.get("position"),i=t.get("hitbox");this.context.lineWidth=2,this.context.font="bold 20px Arial",this.context.textAlign="center",this.context.textBaseline="middle",this.context.fillStyle=e.color,i?this.context.fillText(e.text,n.x+i.width/2,n.y+i.height/2):this.context.fillText(e.text,n.x,n.y)}function s(t){var e=t.get("question"),n=t.get("position");t.get("hitbox");if(this.context.lineWidth=2,this.context.font="bold 20px Arial",this.context.textAlign="center",this.context.textBaseline="middle",this.context.fillStyle="black",e.text.length>20){for(var i=e.text.split(" "),s=Math.ceil(i.length/2),o="",a="",r=0;r<s;r++)o=o.concat(" ",i[r]);for(r=s;r<i.length;r++)a=a.concat(" ",i[r]);this.context.fillText(o,n.x,n.y),this.context.fillText(a,n.x,n.y+30)}else this.context.fillText(e.text,n.x,n.y)}function o(t){var e=t.get("background"),n=t.get("position"),i=t.get("hitbox");this.context.fillStyle=e.color,this.context.fillRect(n.x,n.y,i.width,i.height)}function a(t){var e=t.get("coin"),n=t.get("position"),i=t.get("hitbox");this.context.fillStyle="white",this.context.lineWidth=2,this.context.font="bold 16px Arial",this.context.textAlign="center",this.context.textBaseline="top",this.context.fillText(e.val+"$",n.x+i.width-30,n.y+15),this.context.stroke()}function r(t){var e=t.get("position"),n=t.get("hitbox"),i=t.get("stat");this.context.fillStyle="green",this.context.lineWidth=2,this.context.font="bold 20px Arial",this.context.textAlign="center",this.context.textBaseline="top",this.context.fillText(i.val,e.x+n.width-30,e.y+15)}function c(t){var e=t.get("jobname"),n=t.get("position"),i=t.get("hitbox");this.context.lineWidth=2,this.context.font="bold 20px Arial",this.context.textAlign="center",this.context.textBaseline="middle",this.context.fillStyle="green",this.context.fillText(e.title,n.x+i.width/2,n.y+i.height-30)}function u(){this.context.fillStyle="#d7dae0",this.context.fillRect(0,0,this.size.width,this.size.height),this.world.system(["background","hitbox","position"],o),this.world.system(["text","position"],i),this.world.system(["question","position"],s),this.world.system(["background","stat","hitbox","position"],r),this.world.system(["background","coin","hitbox","position"],a),this.world.system(["jobname","hitbox","position"],c)}n.d(e,"a",function(){return u})},function(t,e,n){"use strict";var i=n(0);function s(t){return function(e){return Math.pow(e,t)}}function o(t){return function(e){return 1-s(t)(1-e)}}var a=n(2);function r(t,e,n,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};this.name="force",this.duration=n,this.easing=i,this.elapsed=0,this.ending=s,this.moved={x:0,y:0},this.x=t,this.y=e}function c(){this.world=new i.b(this),this.world.add(new i.a("start",[new function(){this.name="start"}]));var t=function(t,n){t.add([new r(0,-100,1e3,o(5),e)]),t.get("force").elapsed+=n},e=function(e,n){e.add([new r(0,100,1e3,s(3),t)]),e.get("force").elapsed+=n};this.world.add(new i.a("coin",[new function(t){this.name="images",this.parts=t,this.parts.forEach(function(t){var e=t.destination,n=t.frame,i=t.framerate,s=t.frames,o=t.source;t.source=o,t.frames=s||[[0,0,32,32]],t.frame=n||0,t.framerate=i||8,t.destination=e||[0,0,0,32,32],t.elapsed=0})}([{source:this.assets.images.common.coin(),frames:[[0,0,100,100]],frame:0,destination:[this.size.width/2-36,this.size.height/2,0,76,76]}]),new a.a(0,0,0),new r(0,-100,1e3,o(5),e)])),console.log("start splashscreen scene"),this.state.redirect=!1}n.d(e,"a",function(){return c})},function(t,e,n){"use strict";var i=n(8),s=n(1);function o(t){var e=t.get("clickable"),n=t.get("position"),o=t.get("hitbox");this.state.inputs.forEach(function(a){if("MOUSE"===a.type&&"CLICK_LEFT"===a.action&&"DOWN"===a.state){var r=new s.a(a.x,a.y),c=new s.b(n.x,n.y,o.width,o.height);!0===Object(i.a)(r,c)&&e.action(t)}})}function a(t){var e=t.get("stat");for(e.elapsed+=this.delta.update;e.elapsed>=e.duration;)e.elapsed-=e.duration,e.decrease(),e.val<=0&&this.load("ending")}function r(t){t.get("coin").val<=0&&this.load("ending")}var c=n(0),u=n(4),h=n(2),l=n(11),d=n(5),f=n(6),p=n(3);n(9);function g(t){var e=this;this.state.questions||function t(n){var i,s,o,a=e.assets.datasets.main.jobs(),r=e.assets.datasets.main.questions().filter(function(t){return t.id===n})[0],g=a.filter(function(t){return t.id===r.callback})[0],x=(r.nextStep,r.text);i=new c.a("question",[new h.a(160,410),new u.a(280,60),new l.a(x)]),s=new c.a("yes",[new h.a(60,465),new u.a(80,60),new f.a("green"),new d.a("Yes","black"),new p.a(function(){var n=e.state.mainEntities,i=n.find(function(t){return t.name===g.type});i.get("jobname").title=g.id,g.coin?Object.keys(g.coin).forEach(function(t){i.get("coin")[t]=g.coin[t]}):g.stat&&Object.keys(g.stat).forEach(function(t){i.get("stat")[t]=g.stat[t]}),g.coin?i.add([new p.a(function(t){t.get("coin").add(),g.actions&&g.actions.forEach(function(t){var e=n.find(function(e){return e.name===t.type});e.get("coin")?e.get("coin")[t.nameFunction](t.value):e.get("stat")[t.nameFunction](t.value)})})]):i.add([new p.a(function(t){t.get("stat").add(),n.find(function(t){return"currency"===t.name}).get("coin").decrease(t.get("stat").price),g.actions&&g.actions.forEach(function(t){var e=n.find(function(e){return e.name===t.type});e.get("coin")?e.get("coin")[t.nameFunction](t.value):e.get("stat")[t.nameFunction](t.value)})})]),e.state.questions.forEach(function(t){e.world.remove(t)}),t(r.nextStep)})]),o=new c.a("no",[new h.a(180,465),new u.a(80,60),new f.a("orange"),new d.a("No","black"),new p.a(function(){e.state.questions.forEach(function(t){e.world.remove(t)}),t(r.nextStep)})]),e.state.questions=[i,s,o],e.state.questions.forEach(function(t){e.world.add(t)})}(this.state.step)}function x(){this.world.system(["stat","activate"],a),this.world.system(["coin","activate"],r),this.world.system(["hitbox","position","clickable"],o),this.world.system(["question"],g),this.state.inputs.length=0}n.d(e,"a",function(){return x})},function(t,e,n){"use strict";var i=n(0),s=n(4),o=n(2),a=n(11),r=n(5),c=n(6),u=n(3);function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=(arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5&&void 0!==arguments[5]?arguments[5]:500),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100;this.name="stat",this.id=t,this.val=e,this.max=o,this.addVal=n,this.price=i,this.elapsed=0,this.duration=s,this.decreaseVal=1,this.add=function(t){t||(t=this.addVal),this.val+t>o?this.val=this.max:this.val=this.val+t},this.decrease=function(t){t||(t=this.decreaseVal),this.val-t<0?this.val=0:this.val=this.val-t}}var l=n(9);function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.name="jobname",this.title=t}function f(){var t=this;console.log("start demo scene"),this.world=new i.b(this),this.state.step=0;var e,n,f,p,g;g=new i.a("questionGenerator",[new a.a("first question",function(t){console.log("answer:"+t)})]),e=new i.a("hunger",[new o.a(0,0),new s.a(160,195),new c.a("grey"),new r.a("Burger","yellow"),new h("hunger",100,2,5,1,500),new d,new u.a(function(t){t.get("stat").add(),p.get("coin").decrease(t.get("stat").price)}),new l.a]),n=new i.a("sleep",[new o.a(160,0),new s.a(160,195),new d,new c.a("orange"),new r.a("ZZZ","black"),new h("sleep",100,1,1,1,1e3),new u.a(function(t){t.get("stat").add(),p.get("coin").decrease(t.get("stat").price)}),new l.a]),f=new i.a("social",[new o.a(0,195),new s.a(160,195),new c.a("black"),new d,new h("social",100,10,20,2,3e3),new r.a("Dance","yellow"),new u.a(function(t){t.get("stat").add(),p.get("coin").decrease(t.get("stat").price)}),new l.a]),p=new i.a("currency",[new o.a(160,195),new s.a(160,195),new c.a("brown"),new function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.name="coin",this.val=t,this.addVal=e,this.add=function(){this.val=this.val+this.addVal},this.decrease=function(t){this.val=this.val-t}}(100),new d,new r.a("Work","yellow"),new u.a(function(t){t.get("coin").add(),f.get("stat").decrease()}),new l.a]);var x=[e,n,f,p];this.state.mainEntities=x,[e,n,f,p,g].forEach(function(e){t.world.add(e)})}n.d(e,"a",function(){return f})},function(t,e,n){"use strict";var i=n(8),s=n(1);function o(t){var e=this;this.state.inputs.forEach(function(t){if("MOUSE"===t.type&&"CLICK_LEFT"===t.action&&"DOWN"===t.state){var n=new s.a(t.x,t.y),o=new s.b(0,0,e.size.width,e.size.height);!0===Object(i.a)(n,o)&&e.load("main")}})}function a(t){var e=t.get("force"),n=t.get("position"),i=e.duration-e.elapsed,s=this.delta.update>i?i:this.delta.update,o=(e.elapsed+s)/e.duration,a={x:e.x*e.easing(o),y:e.y*e.easing(o)};n.x+=a.x-e.moved.x,n.y+=a.y-e.moved.y,e.moved=a,e.elapsed+=s,e.elapsed>=e.duration&&e.ending(t,this.delta.update-s)}function r(){this.world.system(["start"],o),this.world.system(["position","force"],a),this.state.inputs.length=0}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var i=n(8),s=n(1);function o(t){var e=this;this.state.inputs.forEach(function(t){if("MOUSE"===t.type&&"CLICK_LEFT"===t.action&&"DOWN"===t.state){var n=new s.a(t.x,t.y),o=new s.b(0,0,e.size.width,e.size.height);!0===Object(i.a)(n,o)&&e.load("main")}})}function a(){this.world.system(["score"],o),this.state.inputs.length=0}n.d(e,"a",function(){return a})},function(t,e,n){"use strict";var i=n(0);function s(){this.world=new i.b(this),this.world.add(new i.a("score",[new function(){this.name="score"}])),console.log("start ending scene"),this.state.redirect=!1}n.d(e,"a",function(){return s})},function(t,e,n){"use strict";function i(t){var e=this,n=t.get("images"),i=t.get("position");n.parts.forEach(function(t){var n=t.destination,s=t.frame,o=t.framerate,a=t.frames,r=t.source;if(a.length>1){t.elapsed+=e.delta.render;for(var c=1e3/o;t.elapsed>=c;)t.elapsed-=c,t.frame=s===a.length-1?0:s+1}e.camera.add({source:r,frame:{x:a[t.frame][2]*a[t.frame][0],y:a[t.frame][3]*a[t.frame][1],width:a[t.frame][2],height:a[t.frame][3]},destination:{x:i.x+n[0],y:i.y+n[1],z:i.z+n[2],width:n[3],height:n[4]}})})}function s(){this.context.fillStyle="#181a1f",this.context.fillRect(0,0,this.size.width,this.size.height),this.context.textAlign="center",this.context.textBaseline="middle",this.context.font="20px Courier New",this.context.fillStyle="#d7dae0",this.context.fillText("Life is the currency",this.size.width/2,this.size.height/4),this.context.font="16px Courier New",this.context.textAlign="center",this.context.textBaseline="middle",this.context.font="16px Arial",this.context.fillText("insert the coin",this.size.width/2,this.size.height/2+110),this.world.system(["images","position"],i)}n.d(e,"a",function(){return s})},function(t){t.exports=[{id:"farmer",type:"currency",coin:{addValue:1},actions:[{type:"hunger",nameFunction:"add",value:5}]},{id:"fastfood",type:"hunger",stat:{addValue:1,price:1,decreaseVal:3},actions:[{type:"sleep",nameFunction:"decrease",value:5},{type:"social",nameFunction:"decrease",value:5}]},{id:"basic bed",type:"sleep",stat:{addValue:1,price:1,decreaseVal:3}},{id:"dancer",type:"social",stat:{addValue:1,price:10,decreaseVal:3},actions:[{type:"sleep",nameFunction:"decrease",value:5},{type:"hunger",nameFunction:"decrease",value:5}]}]},function(t){t.exports=[{id:0,text:"Do you want to start a new life?",callbackType:"job",callback:"farmer",nextStep:1},{id:1,text:"Wanna dance with me ?",callbackType:"job",callback:"dancer",nextStep:2},{id:2,text:"Let's take some good wing's at CFK?",callbackType:"job",callback:"fastfood",nextStep:3}]},function(t,e){t.exports="data:image/png;base64,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"},function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"loading",function(){return c}),n.d(i,"splashscreen",function(){return u}),n.d(i,"main",function(){return h}),n.d(i,"ending",function(){return l});var s=[{name:"jobs",scope:"main",source:n(36),type:"dataset"},{name:"questions",scope:"main",source:n(37),type:"dataset"}],o=[{name:"coin",scope:"common",type:"image",source:n(38)}];function a(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=[].concat(a(s),a(o),a([])),c=n(12),u=n(18),h=n(21),l=n(24);new function(t){var e=t.assets,n=t.container,i=t.scenes,s=t.size,o=t.expose||!1,a=t.framerate||60,r=t.sharp||!1,c=t.speed||1,u=null,h=!1;this.preloading=!1,this.scenes=i,this.size=s,this.state={},this.version="0.26.0",this.load=function(t){u=t},this.restart=function(){h=!0},function(){var t=this,i=new function(t,e,n,i){var s=document.createElement("canvas"),o=s.getContext(t),a=window.devicePixelRatio||1;s.setAttribute("id",e),s.setAttribute("height",a*i),s.setAttribute("width",a*n),s.style.height=i+"px",s.style.width=n+"px",o.scale(a,a),this.context=o,this.element=s,this.sharp=function(){this.element.style.imageRendering="-moz-crisp-edges",this.element.style.imageRendering="-webkit-crisp-edges",this.element.style.imageRendering="crisp-edges",this.element.style.imageRendering="pixelated",this.context.imageSmoothingEnabled=!1}}("2d","theatre",this.size.width,this.size.height),s=new function(t,e,n){var i=[],s={current:!1,duration:0,easing:null,elapsed:0,force:{x:0,y:0},shift:{x:0,y:0}};this.position={x:0,y:0},this.size={width:e,height:n},this.add=function(t){for(var e=0,n=i.length-1;n>=0;n-=1){var s=i[n];if(t.destination.z>=s.destination.z){e=n+1;break}}i.splice(e,0,t)},this.idle=function(){s={current:!1,duration:0,easing:null,elapsed:0,force:{x:0,y:0},shift:{x:0,y:0}}},this.render=function(){var e=this;i.forEach(function(n){var i=n.destination,o=n.frame,a=n.source;!0===e.visible(i.x,i.y,o.width,o.height)&&t.drawImage(a,o.x,o.y,o.width,o.height,i.x-(e.position.x+s.shift.x),i.y-(e.position.y+s.shift.y),i.width,i.height)}),i=[]},this.set=function(t,e){this.position.x=t,this.position.y=e},this.shake=function(t,e,n){var i=t.x,o=t.y;s.force={x:i,y:o},s.current=!0,s.duration=e,s.easing=n},this.update=function(t){if(!1!==s.current)if(s.elapsed+t>=s.duration)this.idle();else{s.elapsed+=t;var e=s.easing(s.elapsed/s.duration),n=2*Math.random()*Math.PI;s.shift.x=Math.round(Math.cos(n)*s.force.x*e),s.shift.y=Math.round(Math.sin(n)*s.force.y*e)}},this.visible=function(t,e,n,i){var o=this.position.x+s.shift.x,a=this.position.y+s.shift.y,r=this.size.width,c=this.size.height;return!(t+n<=o||t>=o+r||e+i<=a||e>=a+c)}}(i.context,this.size.width,this.size.height);!0===r&&i.sharp(),n.appendChild(i.element),this.container=n,this.context=i.context,this.element=i.element,this.camera=s,this.assets={},this.delta={},this.delta.render=0,this.delta.update=0,this.scene=this.scenes.loading,this.scene.setup.call(this),this.scene.start.call(this);var o=new function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,i=null,s=null;this.framerate=t,this.speed=e,this.render=function(t){var e=Date.now();null!==i&&t(e-i),requestAnimationFrame(this.render.bind(this,t)),i=e},this.update=function(t){var e=Date.now();for(null!==s&&(n+=e-s);n>=1e3/this.framerate/this.speed;)n-=1e3/this.framerate/this.speed,t(1e3/this.framerate);s=e,setTimeout(this.update.bind(this,t),1e3/Math.max(this.framerate,60))}}(a,c);o.update(function(e){return t.delta.update=e,t.scene.update.call(t),t.camera.update(e),!0===h?(t.scene.start.call(t),void(h=!1)):null!==u?(t.scene.destroy.call(t),t.scene=t.scenes[u],t.scene.setup.call(t),t.scene.start.call(t),void(u=null)):void 0}),o.render(function(e){t.delta.render=e,t.scene.render.call(t),t.camera.render()}),function(t,e){var n=[];t.forEach(function(t){var e=new Promise(function(e,n){if("dataset"===t.type&&(t.getter=function(){return t.source},e(t)),"image"===t.type){var i=new Image;i.src=t.source,i.onload=function(){t.getter=function(){return i},e(t)}}else if("sound"===t.type){var s=new Audio(t.source);s.oncanplaythrough=function(){t.getter=function(){return s.cloneNode()},e(t)}}});n.push(e)}),Promise.all(n).then(e)}(e,function(e){e.forEach(function(e){void 0===t.assets[e.type+"s"]&&(t.assets[e.type+"s"]={}),void 0===t.assets[e.type+"s"][e.scope]&&(t.assets[e.type+"s"][e.scope]={}),t.assets[e.type+"s"][e.scope][e.name]=e.getter}),t.preloading=!1}),this.loop=o,this.preloading=!0}.call(this,t),!0===o&&(window.theatre=this)}({assets:r,container:document.body,expose:!0,scenes:i,sharp:!0,size:{width:320,height:530}})}]);
//# sourceMappingURL=index.js.map