{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./sources/theatre/modules/world.js","webpack:///./sources/theatre/modules/shape.js","webpack:///./sources/game/components/common/position.js","webpack:///./sources/game/components/main/clickable.js","webpack:///./sources/game/components/common/hitbox.js","webpack:///./sources/game/components/main/text.js","webpack:///./sources/game/components/main/background.js","webpack:///./sources/theatre/modules/mouse.js","webpack:///./sources/theatre/modules/collide.js","webpack:///./sources/game/components/main/activate.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./sources/game/components/main/question.js","webpack:///./sources/game/scenes/loading/index.js","webpack:///./sources/game/scenes/loading/destroy.js","webpack:///./sources/game/scenes/loading/render.js","webpack:///./sources/game/scenes/loading/setup.js","webpack:///./sources/game/scenes/loading/start.js","webpack:///./sources/game/scenes/loading/update.js","webpack:///./sources/game/scenes/splashscreen/index.js","webpack:///./sources/game/scenes/splashscreen/destroy.js","webpack:///./sources/game/scenes/splashscreen/setup.js","webpack:///./sources/game/scenes/main/index.js","webpack:///./sources/game/scenes/main/destroy.js","webpack:///./sources/game/scenes/main/setup.js","webpack:///./sources/game/scenes/ending/index.js","webpack:///./sources/game/scenes/ending/destroy.js","webpack:///./sources/game/scenes/ending/render.js","webpack:///./sources/game/scenes/ending/setup.js","webpack:///./sources/game/systems/main/renderText.js","webpack:///./sources/game/systems/main/renderQuestion.js","webpack:///./sources/game/systems/main/renderBackground.js","webpack:///./sources/game/systems/main/renderCoin.js","webpack:///./sources/game/systems/main/renderStat.js","webpack:///./sources/game/systems/main/renderJobname.js","webpack:///./sources/game/scenes/main/render.js","webpack:///./sources/theatre/modules/ease.js","webpack:///./sources/game/components/common/force.js","webpack:///./sources/game/scenes/splashscreen/start.js","webpack:///./sources/game/components/splashscreen/start.js","webpack:///./sources/game/components/common/images.js","webpack:///./sources/game/systems/main/handleClick.js","webpack:///./sources/game/systems/main/checkStat.js","webpack:///./sources/game/systems/main/checkCoin.js","webpack:///./sources/game/systems/main/updateQuestion.js","webpack:///./sources/game/scenes/main/update.js","webpack:///./sources/game/components/main/Stat.js","webpack:///./sources/game/components/main/jobname.js","webpack:///./sources/game/scenes/main/start.js","webpack:///./sources/game/components/main/coin.js","webpack:///./sources/game/systems/splashscreen/start.js","webpack:///./sources/game/systems/common/force.js","webpack:///./sources/game/scenes/splashscreen/update.js","webpack:///./sources/game/systems/ending/startAgain.js","webpack:///./sources/game/scenes/ending/update.js","webpack:///./sources/game/scenes/ending/start.js","webpack:///./sources/game/components/ending/score.js","webpack:///./sources/game/systems/common/images.js","webpack:///./sources/game/scenes/splashscreen/render.js","webpack:///./sources/game/assets/images/common/token.png","webpack:///./sources/game/assets/datasets/index.js","webpack:///./sources/game/assets/images/index.js","webpack:///./sources/game/assets/index.js","webpack:///./sources/index.js","webpack:///./sources/theatre/core/theatre.js","webpack:///./sources/theatre/core/canvas.js","webpack:///./sources/theatre/core/camera.js","webpack:///./sources/theatre/core/loop.js","webpack:///./sources/theatre/core/preload.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Entity","components","this","add","_this","forEach","component","has","iterator","length","search","replace","exclude","remove","World","context","entities","entity","push","current","splice","indexOf","system","handler","arguments","undefined","__webpack_exports__","Point","x","y","Rectangle","width","height","Position","z","Clickable","callback","action","Hitbox","Text","text","color","Background","Mouse","container","inputs","contextmenu","event","preventDefault","mousedown","button","buttons","rectangle","target","getBoundingClientRect","clientX","left","clientY","top","type","state","mouseenter","mouseleave","mousemove","mouseup","setup","addEventListener","wheel","deltaY","destroy","removeEventListener","collide","_shape_js__WEBPACK_IMPORTED_MODULE_0__","caller","collidePointPoint","A","B","collidePointRectangle","BCDE","collideRectangleRectangle","ABCD","EFGH","parameters","apply","Activate","originalModule","webpackPolyfill","children","Question","_destroy_js__WEBPACK_IMPORTED_MODULE_0__","_render_js__WEBPACK_IMPORTED_MODULE_1__","_setup_js__WEBPACK_IMPORTED_MODULE_2__","_start_js__WEBPACK_IMPORTED_MODULE_3__","_update_js__WEBPACK_IMPORTED_MODULE_4__","hot","accept","console","log","redirect","render","fillStyle","fillRect","size","font","textAlign","textBaseline","fillText","preloading","start","update","setTimeout","load","world","modules_mouse_js__WEBPACK_IMPORTED_MODULE_0__","canvas","renderText","textComponent","positionComponent","hitboxComponent","lineWidth","renderQuestion","questionComponent","phrases","split","middle","Math","ceil","phrase1","phrase2","concat","renderBackground","backgroundComponent","renderCoin","coinComponent","val","stroke","renderStat","statComponent","renderJobname","jobnameComponent","title","easeIn","power","pow","easeOut","Force","duration","easing","ending","elapsed","moved","fallEnding","jumpEnding","parts","image","destination","frame","framerate","frames","source","assets","images","common","coin","position","handleClick","clickComponent","input","mouse","shape","hitbox","checkStat","delta","decrease","checkCoin","updateQuestion","questions","createQuestion","step","questionEntity","yes","no","jobs","datasets","main","question","filter","id","job","nextStep","common_hitbox","main_question","background","main_text","clickable","mainEntities","find","keys","stat","actions","entityInAction","nameFunction","price","Stat","addVal","max","decreaseVal","Jobname","hunger","sleep","social","currency","questionGenerator","answer","activate","force","forceComponent","remaining","progress","startAgain","images_images","imagesComponent","camera","scope","assets_assets","_toConsumableArray","config","scenes","expose","sharp","speed","loading","restarting","version","scene","restart","identifier","element","document","createElement","getContext","ratio","window","devicePixelRatio","setAttribute","style","scale","imageRendering","imageSmoothingEnabled","shaking","shift","idle","visible","drawImage","set","shake","amplitude","angle","random","PI","round","cos","sin","appendChild","loop","elapsedTime","lastRender","lastUpdate","currentRender","Date","now","requestAnimationFrame","currentUpdate","timeframe","promises","asset","promise","Promise","resolve","reject","Image","src","onload","sound","Audio","oncanplaythrough","cloneNode","all","then","preload","theatre","body","scenes_namespaceObject"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 39);\n","function Entity(name, components) {\n\n    function add(components) {\n\n        components.forEach((component) => {\n\n            this.components[component.name] = component;\n        });\n    }\n\n    function get(component) {\n\n        return this.components[component];\n    }\n\n    function has(components) {\n\n        if (typeof components === 'string') {\n\n            components = [components];\n        }\n\n        for (let iterator = 0, length = components.length; iterator < length; iterator += 1) {\n\n            const search = components[iterator];\n            const component = search.replace('not:', '');\n            const exclude = search !== component;\n\n            if (this.components.hasOwnProperty(component) === exclude) {\n\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function remove(components) {\n\n        for (let iterator = 0, length = components.length; iterator < length; iterator += 1) {\n\n            const component = components[iterator];\n\n            if (this.components.hasOwnProperty(component) === true) {\n\n                delete this.components[component];\n            }\n        }\n    }\n\n    this.components = {};\n    this.name = name;\n\n    this.add = add;\n    this.get = get;\n    this.has = has;\n    this.remove = remove;\n\n    this.add(components)\n}\n\nfunction World(context) {\n\n    function add(entity) {\n\n        this.entities.push(entity);\n    }\n\n    function get(entity) {\n\n        for (let iterator = 0, length = this.entities.length; iterator < length; iterator += 1) {\n\n            const current = this.entities[iterator];\n\n            if (current.name === entity) {\n\n                return current;\n            }\n        }\n    }\n\n    function remove(entity) {\n\n        this.entities.splice(this.entities.indexOf(entity), 1);\n    }\n\n    function system(components, handler, entities = this.entities) {\n\n        entities.forEach((entity) => {\n\n            if (entity.has(components) === true) {\n\n                handler.call(context, entity);\n            }\n        });\n    }\n\n    this.entities = [];\n\n    this.add = add;\n    this.get = get;\n    this.remove = remove;\n    this.system = system;\n}\n\nexport {\n\n    // exports current module as an object\n    World,\n\n    // exports helpers for current module\n    Entity\n};\n","function Circle(x, y, radius) {\n\n    this.radius = radius;\n    this.x = x;\n    this.y = y;\n}\n\nfunction Point(x, y) {\n\n    this.x = x;\n    this.y = y;\n}\n\nfunction Rectangle(x, y, width, height) {\n\n    this.height = height;\n    this.width = width;\n    this.x = x;\n    this.y = y;\n}\n\nfunction Segment(xa, ya, xb, yb) {\n\n    this.xa = xa;\n    this.xb = xb;\n    this.ya = ya;\n    this.yb = yb;\n}\n\n// exports current module as objects\nexport {Circle, Point, Rectangle, Segment};\n","function Position(x, y, z = 0) {\n\n    this.name = 'position';\n\n    this.x = x;\n    this.y = y;\n    this.z = z;\n}\n\nexport {Position};\n","function Clickable(callback) {\r\n  this.name='clickable';\r\n   this.action= callback;\r\n}\r\n\r\nexport {Clickable};\r\n","function Hitbox(width, height) {\n\n    this.name = 'hitbox';\n\n    this.width = width;\n    this.height = height;\n}\n\nexport {Hitbox};\n","function Text(text,color=\"black\") {\r\n\r\n    this.name = 'text';\r\n    this.text = text;\r\n    this.color = color;\r\n}\r\n\r\nexport {Text};\r\n","function Background(color) {\r\n\r\n    this.name = 'background';\r\n    this.color = color;\r\n}\r\n\r\nexport {Background};\r\n","function Mouse(container, inputs) {\n\n    function contextmenu(event) {\n\n        event.preventDefault();\n    }\n\n    function destroy() {\n\n        container.removeEventListener('contextmenu', contextmenu);\n        container.removeEventListener('mousedown', mousedown);\n        container.removeEventListener('mouseenter', mouseenter);\n        container.removeEventListener('mouseleave', mouseleave);\n        container.removeEventListener('mousemove', mousemove);\n        container.removeEventListener('mouseup', mouseup);\n        container.removeEventListener('wheel', wheel);\n    }\n\n    function mousedown(event) {\n\n        const button = event.button;\n        const buttons = ['LEFT', 'MIDDLE', 'RIGHT'];\n\n        if (typeof buttons[button] === 'undefined') {\n\n            return;\n        }\n\n        const rectangle = event.target.getBoundingClientRect();\n        const x = event.clientX - rectangle.left;\n        const y = event.clientY - rectangle.top;\n\n        inputs.push({\n\n            'type': 'MOUSE',\n            'action': 'CLICK_' + buttons[button],\n            'state': 'DOWN',\n            'x': x,\n            'y': y\n        });\n\n        event.preventDefault();\n    }\n\n    function mouseenter(event) {\n\n        const rectangle = event.target.getBoundingClientRect();\n        const x = event.clientX - rectangle.left;\n        const y = event.clientY - rectangle.top;\n\n        inputs.push({\n\n            'type': 'MOUSE',\n            'action': 'MOVE',\n            'state': 'ENTER',\n            'x': x,\n            'y': y\n        });\n\n        event.preventDefault();\n    }\n\n    function mouseleave(event) {\n\n        const rectangle = event.target.getBoundingClientRect();\n        const x = event.clientX - rectangle.left;\n        const y = event.clientY - rectangle.top;\n\n        inputs.push({\n\n            'type': 'MOUSE',\n            'action': 'MOVE',\n            'state': 'LEAVE',\n            'x': x,\n            'y': y\n        });\n\n        event.preventDefault();\n    }\n\n    function mousemove(event) {\n\n        const rectangle = event.target.getBoundingClientRect();\n        const x = event.clientX - rectangle.left;\n        const y = event.clientY - rectangle.top;\n\n        inputs.push({\n\n            'type': 'MOUSE',\n            'action': 'MOVE',\n            'x': x,\n            'y': y\n        });\n\n        event.preventDefault();\n    }\n\n    function mouseup(event) {\n\n        const button = event.button;\n        const buttons = ['LEFT', 'MIDDLE', 'RIGHT'];\n\n        if (typeof buttons[button] === 'undefined') {\n\n            return;\n        }\n\n        const rectangle = event.target.getBoundingClientRect();\n        const x = event.clientX - rectangle.left;\n        const y = event.clientY - rectangle.top;\n\n        inputs.push({\n\n            'type': 'MOUSE',\n            'action': 'CLICK_' + buttons[button],\n            'state': 'UP',\n            'x': x,\n            'y': y\n        });\n\n        event.preventDefault();\n    }\n\n    function setup() {\n\n        container.addEventListener('contextmenu', contextmenu);\n        container.addEventListener('mousedown', mousedown);\n        container.addEventListener('mouseenter', mouseenter);\n        container.addEventListener('mouseleave', mouseleave);\n        container.addEventListener('mousemove', mousemove);\n        container.addEventListener('mouseup', mouseup);\n        container.addEventListener('wheel', wheel);\n    }\n\n    function wheel(event) {\n\n        const rectangle = event.target.getBoundingClientRect();\n        const x = event.clientX - rectangle.left;\n        const y = event.clientY - rectangle.top;\n\n        inputs.push({\n\n            'type': 'MOUSE',\n            'action': 'SCROLL_' + (event.deltaY > 0 ? 'DOWN' : 'UP'),\n            'x': x,\n            'y': y\n        });\n\n        event.preventDefault();\n    }\n\n    setup.call(this);\n\n    this.destroy = destroy;\n    this.setup = setup;\n}\n\n// exports current module as an object\nexport {Mouse};\n","import {Point, Rectangle} from './shape.js';\n\nconst caller = {\n\n    'collidePointPoint': collidePointPoint,\n    'collidePointRectangle': collidePointRectangle,\n    'collideRectangleRectangle': collideRectangleRectangle\n};\n\nfunction collide(A, B) {\n\n    const parameters = [];\n\n    let name = 'collide';\n\n    if (A instanceof Point === true) {\n\n        parameters.push(A);\n\n        name += 'Point';\n    }\n\n    if (B instanceof Point === true) {\n\n        parameters.push(B);\n\n        name += 'Point';\n    }\n\n    if (parameters.indexOf(A) === -1\n    && A instanceof Rectangle === true) {\n\n        parameters.push(A);\n\n        name += 'Rectangle';\n    }\n\n    if (parameters.indexOf(B) === -1\n    && B instanceof Rectangle === true) {\n\n        parameters.push(B);\n\n        name += 'Rectangle';\n    }\n\n    return caller[name].apply(null, parameters);\n}\n\nfunction collidePointPoint(A, B) {\n\n    if (A.x !== B.x\n    || A.y !== B.y) {\n\n        return false;\n    }\n\n    return true;\n}\n\nfunction collidePointRectangle(A, BCDE) {\n\n    if (A.x < BCDE.x\n    || A.x > BCDE.x + BCDE.width\n    || A.y < BCDE.y\n    || A.y > BCDE.y + BCDE.height) {\n\n        return false;\n    }\n\n    return true;\n}\n\nfunction collideRectangleRectangle(ABCD, EFGH) {\n\n    if (ABCD.x + ABCD.width < EFGH.x\n    || ABCD.x > EFGH.x + EFGH.width\n    || ABCD.y + ABCD.height < EFGH.y\n    || ABCD.y > EFGH.y + EFGH.height) {\n\n        return false;\n    }\n\n    return true;\n}\n\n// exports current module as a function\nexport {collide};\n","function Activate() {\r\n\r\n    this.name = 'activate';\r\n}\r\n\r\nexport {Activate};\r\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","function Question(text,callback) {\r\n  this.name='question';\r\n  this.text=text;\r\n   this.callback= callback;\r\n}\r\n\r\nexport {Question};\r\n","import {destroy} from './destroy.js';\nimport {render} from './render.js';\nimport {setup} from './setup.js';\nimport {start} from './start.js';\nimport {update} from './update.js';\n\nif (typeof module.hot !== 'undefined') {\n\n    module.hot.accept([\n\n        './destroy.js',\n        './render.js',\n        './setup.js',\n        './start.js',\n        './update.js'\n    ]);\n}\n\nexport {destroy, render, setup, start, update};\n","function destroy() {\n\n    console.log('destroy loading scene');\n    console.log('-------');\n\n    delete this.state.redirect;\n}\n\nexport {destroy};\n","function render() {\n\n    // console.log('render loading scene');\n\n    this.context.fillStyle = '#181a1f';\n    this.context.fillRect(0, 0, this.size.width, this.size.height);\n\n    this.context.font = '16px Courier New';\n    this.context.textAlign = 'start';\n    this.context.textBaseline = 'top';\n    this.context.fillStyle = '#6b717d';\n    this.context.fillText('/ Theatre', 8, 8);\n    this.context.fillStyle = '#d7dae0';\n\n    this.context.fillText('$ preloading assets...', 8, 32);\n\n    if (this.preloading === false) {\n\n        this.context.fillText('$ preloading completed', 8, 32 + 24);\n        this.context.fillText('$ loading demo scene...', 8, 32 + 24 + 24);\n    }\n}\n\nexport {render};\n","function setup() {\n\n    console.log('setup loading scene');\n}\n\nexport {setup};\n","function start() {\n\n    console.log('start loading scene');\n\n    this.state.redirect = false;\n}\n\nexport {start};\n","function update() {\n\n    // console.log('update loading scene');\n\n    if (this.preloading === false && this.state.redirect === false) {\n\n        setTimeout(() => {\n\n            this.load('splashscreen');\n\n        }, 0);\n\n        this.state.redirect = true;\n    }\n}\n\nexport {update};\n","import {destroy} from './destroy.js';\nimport {render} from './render.js';\nimport {setup} from './setup.js';\nimport {start} from './start.js';\nimport {update} from './update.js';\n\nif (typeof module.hot !== 'undefined') {\n\n    module.hot.accept([\n\n        './destroy.js',\n        './render.js',\n        './setup.js',\n        './start.js',\n        './update.js'\n    ]);\n}\n\nexport {destroy, render, setup, start, update};\n","function destroy() {\n\n    console.log('destroy splashscreen scene');\n    console.log('-------');\n\n    this.state={};\n    delete this.world;\n}\n\nexport {destroy};\n","import {Mouse} from 'modules/mouse.js';\n\nfunction setup() {\n\n    console.log('setup splashscreen scene');\n\n    this.state.inputs=[];\n\n    var mouse = new Mouse(this.context.canvas,this.state.inputs);\n\n}\n\nexport {setup};\n","import {destroy} from './destroy.js';\nimport {render} from './render.js';\nimport {setup} from './setup.js';\nimport {start} from './start.js';\nimport {update} from './update.js';\n\nif (typeof module.hot !== 'undefined') {\n\n    module.hot.accept([\n\n        './destroy.js',\n        './render.js',\n        './setup.js',\n        './start.js',\n        './update.js'\n    ]);\n}\n\nexport {destroy, render, setup, start, update};\n","function destroy() {\n\n    console.log('destroy demo scene');\n    console.log('-------');\n\n    this.state={};\n    delete this.world;\n}\n\nexport {destroy};\n","import {Mouse} from 'modules/mouse.js';\n\nfunction setup() {\n\n    this.state.inputs=[];\n    console.log('setup demo scene');\n    var mouse = new Mouse(this.context.canvas,this.state.inputs);\n}\n\nexport {setup};\n","import {destroy} from './destroy.js';\nimport {render} from './render.js';\nimport {setup} from './setup.js';\nimport {start} from './start.js';\nimport {update} from './update.js';\n\nif (typeof module.hot !== 'undefined') {\n\n    module.hot.accept([\n\n        './destroy.js',\n        './render.js',\n        './setup.js',\n        './start.js',\n        './update.js'\n    ]);\n}\n\nexport {destroy, render, setup, start, update};\n","function destroy() {\n\n    console.log('destroy ending scene');\n    console.log('-------');\n\n    this.state={};\n    delete this.world;\n}\n\nexport {destroy};\n","function render() {\n\n    // console.log('render ending scene');\n\n    this.context.fillStyle = '#181a1f';\n    this.context.fillRect(0, 0, this.size.width, this.size.height);\n\n    this.context.font = '16px Courier New';\n    this.context.textAlign = 'start';\n    this.context.textBaseline = 'top';\n    this.context.fillStyle = '#6b717d';\n    this.context.fillText('You Loose', 8, 8);\n    this.context.fillStyle = '#d7dae0';\n\n    this.context.fillText('click to start Again...', 8, 32);\n\n}\n\nexport {render};\n","import {Mouse} from 'modules/mouse.js';\n\nfunction setup() {\n\n    console.log('setup ending scene');\n\n    this.state.inputs=[];\n\n    var mouse = new Mouse(this.context.canvas,this.state.inputs);\n\n}\n\nexport {setup};\n","function renderText(entity) {\r\n\r\n     const textComponent = entity.get('text');\r\n     const positionComponent = entity.get ('position');\r\n     const hitboxComponent = entity.get ('hitbox');\r\n\r\n    this.context.lineWidth = 2;\r\n    this.context.font=\"bold 20px Arial\";\r\n    this.context.textAlign = 'center';\r\n    this.context.textBaseline = 'middle';\r\n    this.context.fillStyle=textComponent.color;\r\n    if(hitboxComponent){\r\n      this.context.fillText(textComponent.text, positionComponent.x+hitboxComponent.width/2, positionComponent.y+hitboxComponent.height/2);\r\n    }else{\r\n      this.context.fillText(textComponent.text, positionComponent.x, positionComponent.y);\r\n    }\r\n\r\n}\r\n\r\nexport {renderText};\r\n","function renderQuestion(entity) {\r\n\r\n     const questionComponent = entity.get('question');\r\n     const positionComponent = entity.get ('position');\r\n     const hitboxComponent = entity.get ('hitbox');\r\n\r\n    this.context.lineWidth = 2;\r\n    this.context.font=\"bold 20px Arial\";\r\n    this.context.textAlign = 'center';\r\n    this.context.textBaseline = 'middle';\r\n    this.context.fillStyle=\"black\";\r\n    if(questionComponent.text.length>20){\r\n        var phrases=questionComponent.text.split(' ');\r\n        var middle=Math.ceil(phrases.length/2);\r\n        var phrase1=\"\",phrase2=\"\";\r\n        for(var i=0;i<middle;i++){\r\n          phrase1=phrase1.concat(' ',phrases[i]);\r\n        }\r\n        for(var i=middle;i<phrases.length;i++){\r\n          phrase2=phrase2.concat(' ',phrases[i]);\r\n        }\r\n\r\n        this.context.fillText(phrase1, positionComponent.x, positionComponent.y);\r\n       this.context.fillText(phrase2, positionComponent.x, positionComponent.y+30);\r\n    }else this.context.fillText(questionComponent.text, positionComponent.x, positionComponent.y);\r\n\r\n}\r\n\r\nexport {renderQuestion};\r\n","function renderBackground(entity) {\r\n\r\n     const backgroundComponent = entity.get('background');\r\n     const positionComponent = entity.get ('position');\r\n     const hitboxComponent = entity.get ('hitbox');\r\n\r\n\r\n     this.context.fillStyle = backgroundComponent.color;\r\n     this.context.fillRect(positionComponent.x, positionComponent.y, hitboxComponent.width, hitboxComponent.height);\r\n}\r\nexport {renderBackground};\r\n","function renderCoin(entity) {\r\n\r\n     const coinComponent = entity.get('coin');\r\n     const positionComponent = entity.get ('position');\r\n     const hitboxComponent = entity.get ('hitbox');\r\n\r\n     var color =\"white\";\r\n     this.context.fillStyle = color;\r\n    // this.context.fillRect(positionComponent.x, positionComponent.y, hitboxComponent.width, hitboxComponent.height);\r\n\r\n    this.context.lineWidth = 2;\r\n    this.context.font=\"bold 16px Arial\";\r\n    this.context.textAlign = 'center';\r\n    this.context.textBaseline = 'top';\r\n    this.context.fillText(coinComponent.val+\"$\", positionComponent.x+hitboxComponent.width-30, positionComponent.y+15);\r\n    this.context.stroke();\r\n\r\n\r\n}\r\nexport {renderCoin};\r\n","function renderStat(entity) {\r\n\r\n     const positionComponent = entity.get ('position');\r\n     const hitboxComponent = entity.get ('hitbox');\r\n     const statComponent =entity.get('stat');\r\n\r\n     var color =\"green\";\r\n     this.context.fillStyle = color;\r\n    // this.context.fillRect(positionComponent.x, positionComponent.y, hitboxComponent.width, hitboxComponent.height);\r\n\r\n    this.context.lineWidth = 2;\r\n    this.context.font=\"bold 20px Arial\";\r\n    this.context.textAlign = 'center';\r\n    this.context.textBaseline = 'top';\r\n    this.context.fillText(statComponent.val, positionComponent.x+hitboxComponent.width-30, positionComponent.y+15);\r\n\r\n}\r\nexport {renderStat};\r\n","function renderJobname(entity) {\r\n\r\n     const jobnameComponent = entity.get('jobname');\r\n     const positionComponent = entity.get ('position');\r\n     const hitboxComponent = entity.get ('hitbox');\r\n\r\n    this.context.lineWidth = 2;\r\n    this.context.font=\"bold 20px Arial\";\r\n    this.context.textAlign = 'center';\r\n    this.context.textBaseline = 'middle';\r\n    this.context.fillStyle=\"green\";\r\n\r\n    this.context.fillText(jobnameComponent.title, positionComponent.x+hitboxComponent.width/2, positionComponent.y+hitboxComponent.height-30);\r\n\r\n\r\n}\r\n\r\nexport {renderJobname};\r\n","import {renderText} from 'systems/main/renderText.js';\nimport {renderQuestion} from 'systems/main/renderQuestion.js';\nimport {renderBackground} from 'systems/main/renderBackground.js';\nimport {renderCoin} from 'systems/main/renderCoin.js';\nimport {renderStat} from 'systems/main/renderStat.js';\n\nimport {renderJobname} from 'systems/main/renderJobname.js';\n\nfunction render() {\n\n    // console.log('render demo scene');\n\n    this.context.fillStyle = '#d7dae0';\n    this.context.fillRect(0, 0, this.size.width, this.size.height);\n\n    this.world.system(['background','hitbox','position'], renderBackground);\n    this.world.system(['text','position'], renderText);\n    this.world.system(['question','position'], renderQuestion);\n    this.world.system(['background','stat','hitbox','position'], renderStat);\n    this.world.system(['background','coin','hitbox','position'], renderCoin);\n    this.world.system(['jobname','hitbox','position'], renderJobname);\n\n\n}\n\nexport {render};\n","function easeIn(power) {\n\n    // accelerating from zero velocity\n    return (x) => x ** power;\n}\n\nfunction easeInOut(power) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return (x) => {\n\n        if (x < 0.5) {\n\n            return easeIn(power)(2 * x) / 2\n        }\n\n        return 1 - easeInOut(power)(1 - x)\n    }\n}\n\nfunction easeOut(power) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return (x) => 1 - easeIn(power)(1 - x);\n}\n\nfunction easeInQuad(x) {\n\n    // accelerating from zero velocity\n    return easeIn(2)(x);\n}\n\nfunction easeInCubic(x) {\n\n    // accelerating from zero velocity\n    return easeIn(3)(x);\n}\n\nfunction easeInQuart(x) {\n\n    // accelerating from zero velocity\n    return easeIn(4)(x);\n}\n\nfunction easeInOutQuad(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(2)(x);\n}\n\nfunction easeInOutCubic(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(3)(x);\n}\n\nfunction easeInOutQuart(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(4)(x);\n}\n\nfunction easeOutQuad(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(2)(x);\n}\n\nfunction easeOutCubic(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(3)(x);\n}\n\nfunction easeOutQuart(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(4)(x);\n}\n\nfunction reverse(handler) {\n\n    // reversing easing function\n    return (x) => handler(1 - x);\n}\n\n// exports current module as functions\nexport {\n\n    // export ease function creators\n    easeIn, easeInOut, easeOut,\n\n    // export ease-in functions\n    easeInCubic, easeInQuad, easeInQuart,\n\n    // export ease-in-out functions\n    easeInOutCubic, easeInOutQuad, easeInOutQuart,\n\n    // export ease-out functions\n    easeOutCubic, easeOutQuad, easeOutQuart,\n\n    // export utility functions\n    reverse\n};\n","function Force(x, y, duration, easing, ending = () => {}) {\n\n    this.name = 'force';\n\n    this.duration = duration;\n    this.easing = easing;\n    this.elapsed = 0;\n    this.ending = ending;\n\n    this.moved = {\n\n        'x': 0,\n        'y': 0\n    };\n\n    this.x = x;\n    this.y = y;\n}\n\nexport {Force};\n","import {Entity, World} from 'modules/world.js';\nimport {Start} from 'components/splashscreen/start.js';\n\nimport * as Ease from 'modules/ease.js';\n\nimport {Images} from 'components/common/images.js';\nimport {Position} from 'components/common/position.js';\nimport {Force} from 'components/common/force.js';\n\nfunction start() {\n\n    this.world= new World(this);\n\n    this.world.add(new Entity('start', [\n        new Start()\n      ]))\n      const fallEnding = (entity, elapsed) => {\n\n            entity.add([new Force(0, -100, 1000, Ease.easeOut(5), jumpEnding)]);\n            entity.get('force').elapsed += elapsed;\n        };\n\n        const jumpEnding = (entity, elapsed) => {\n\n            entity.add([new Force(0, 100, 1000, Ease.easeIn(3), fallEnding)]);\n            entity.get('force').elapsed += elapsed;\n        };\n\n      this.world.add(new Entity('coin', [\n          new Images([{\n              'source': this.assets.images.common.coin(),\n              'frames': [\n                  [0, 0, 100, 100]\n              ],\n              'frame': 0,\n              'destination': [this.size.width/2-36, this.size.height/2, 0, 76, 76]\n            }]),\n          new Position(0,0,0),\n          new Force(0, -100, 1000, Ease.easeOut(5), jumpEnding)\n        ]))\n\n\n    console.log('start splashscreen scene');\n\n    this.state.redirect = false;\n}\n\nexport {start};\n","function Start() {\r\n\r\n    this.name = 'start';\r\n}\r\n\r\nexport {Start};\r\n","function Images(parts) {\n\n    this.name = 'images';\n\n    this.parts = parts;\n\n    this.parts.forEach((image) => {\n\n        const {destination, frame, framerate, frames, source} = image;\n\n        image.source = source;\n\n        image.frames = frames || [[0, 0, 32, 32]];\n        image.frame = frame || 0;\n        image.framerate = framerate || 8;\n        image.destination = destination || [0, 0, 0, 32, 32];\n\n        image.elapsed = 0;\n    });\n}\n\nexport {Images};\n","import {collide} from 'modules/collide.js';\r\nimport {Point, Rectangle} from 'modules/shape.js';\r\n\r\nfunction handleClick(entity) {\r\n\r\n    const clickComponent = entity.get('clickable');\r\n    const positionComponent = entity.get('position');\r\n    const hitboxComponent = entity.get('hitbox');\r\n\r\n    this.state.inputs.forEach((input) => {\r\n\r\n        if (input.type === 'MOUSE'\r\n        && input.action === 'CLICK_LEFT'\r\n        && input.state === 'DOWN') {\r\n\r\n            const mouse = new Point(input.x, input.y);\r\n            const hitbox = new Rectangle(positionComponent.x, positionComponent.y, hitboxComponent.width, hitboxComponent.height);\r\n\r\n            if (collide(mouse, hitbox) === true) {\r\n\r\n                clickComponent.action(entity);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nexport {handleClick};\r\n","function checkStat(entity) {\r\n\r\n    const statComponent = entity.get('stat');\r\n\r\n    statComponent.elapsed+=this.delta.update\r\n    while (statComponent.elapsed >= statComponent.duration ) {\r\n\r\n        statComponent.elapsed -=  statComponent.duration;\r\n        statComponent.decrease();\r\n        if(statComponent.val<=0){\r\n          this.load('ending');\r\n        }\r\n      }\r\n\r\n}\r\n\r\nexport {checkStat};\r\n","function checkCoin(entity) {\r\n\r\n    const coinComponent = entity.get('coin');\r\n\r\n    if(coinComponent.val<=0){\r\n      this.load('ending');\r\n    }\r\n\r\n}\r\n\r\nexport {checkCoin};\r\n","import {Entity, World} from 'modules/world.js';\r\n\r\nimport {Hitbox} from 'components/common/hitbox.js';\r\nimport {Position} from 'components/common/position.js';\r\n\r\nimport {Question} from 'components/main/question.js';\r\nimport {Text} from 'components/main/text.js';\r\nimport {Background} from 'components/main/background.js';\r\nimport {Clickable} from 'components/main/clickable.js';\r\nimport {Activate} from 'components/main/activate.js';\r\nfunction updateQuestion(entity) {\r\n\r\n\r\n  const createQuestion=(step)=>{\r\n\r\n    var jobs=this.assets.datasets.main.jobs();\r\n    var questions=this.assets.datasets.main.questions();\r\n\r\n    var question=questions.filter((question)=> question.id===step)[0];\r\n    var job=jobs.filter((job)=>job.id=== question.callback)[0];\r\n    var nextStep= question.nextStep;\r\n    var text = question.text;\r\n\r\n    var questionEntity,yes,no={};\r\n      questionEntity=new Entity('question', [\r\n\r\n        new Position(160,410),\r\n          new Hitbox(280,60),\r\n          new Question(text),\r\n      ]);\r\n\r\n      yes=new Entity('yes', [\r\n          new Position(60,465),\r\n          new Hitbox(80,60),\r\n          new Background(\"green\"),\r\n          new Text('Yes','black'),\r\n          new Clickable(()=> {\r\n            var mainEntities=this.state.mainEntities;\r\n\r\n            var entity=mainEntities.find((entity)=>entity.name===job.type)\r\n            entity.get(\"jobname\").title=job.id;\r\n            if(job.coin){\r\n                var keys=Object.keys(job.coin)\r\n                keys.forEach(key=>{\r\n                  entity.get('coin')[key]=job.coin[key];\r\n                })\r\n            }else if(job.stat){\r\n              var keys=Object.keys(job.stat)\r\n              keys.forEach(key=>{\r\n                entity.get('stat')[key]=job.stat[key];\r\n              })\r\n            }\r\n\r\n              if(!job.coin){\r\n                entity.add([\r\n                    new Clickable((entity)=>{\r\n                      entity.get(\"stat\").add();\r\n                      var currency=mainEntities.find((entity)=>{\r\n                        return entity.name===\"currency\"\r\n                      })\r\n                      currency.get(\"coin\").decrease(entity.get(\"stat\").price);\r\n                      if(job.actions){\r\n                          job.actions.forEach((action)=>{\r\n                            var entityInAction=mainEntities.find((entity)=>{\r\n                              return entity.name===action.type\r\n                            })\r\n                            if(entityInAction.get('coin')) entityInAction.get('coin')[action.nameFunction](action.value);\r\n                            else  entityInAction.get('stat')[action.nameFunction](action.value);\r\n                          })\r\n                      }\r\n                    })\r\n                ])\r\n              }else {\r\n                  entity.add([\r\n                    new Clickable((entity)=>{\r\n                      entity.get(\"coin\").add();\r\n                      if(job.actions){\r\n                          job.actions.forEach((action)=>{\r\n                            var entityInAction=mainEntities.find((entity)=>entity.name===action.type)\r\n                            if(entityInAction.get('coin')) entityInAction.get('coin')[action.nameFunction](action.value);\r\n                            else  entityInAction.get('stat')[action.nameFunction](action.value);\r\n                          })\r\n                      }\r\n                    })\r\n                ])\r\n              }\r\n\r\n            this.state.questions.forEach((entity)=>{this.world.remove(entity)});\r\n\r\n            createQuestion(question.nextStep);\r\n          })\r\n      ]);\r\n\r\n      no=new Entity('no', [\r\n          new Position(180,465),\r\n          new Hitbox(80,60),\r\n          new Background(\"orange\"),\r\n          new Text('No','black'),\r\n          new Clickable(()=>{\r\n              this.state.questions.forEach((entity)=>{this.world.remove(entity)});\r\n                createQuestion(question.nextStep);\r\n          })\r\n      ]);\r\n      this.state.questions=[questionEntity,yes,no];\r\n\r\n      this.state.questions.forEach((entity)=>{this.world.add(entity)});\r\n\r\n  }\r\n  if(!this.state.questions ){\r\n    createQuestion(this.state.step);\r\n  }\r\n\r\n}\r\n\r\nexport {updateQuestion};\r\n","import {handleClick} from 'systems/main/handleClick.js';\nimport {checkStat} from 'systems/main/checkStat.js';\nimport {checkCoin} from 'systems/main/checkCoin.js';\nimport {updateQuestion} from 'systems/main/updateQuestion.js';\n\nfunction update() {\n\n    // console.log('update demo scene');\n    this.world.system(['stat','activate'], checkStat);\n    this.world.system(['coin','activate'], checkCoin);\n\n    this.world.system(['hitbox','position','clickable'], handleClick);\n\n    this.world.system(['question'], updateQuestion);\n\n    this.state.inputs.length = 0;\n\n}\n\nexport {update};\n","function Stat(id,val,addVal=1,price=1,decreaseVal=1,duration=500,max=100) {\r\n\r\n    this.name='stat';\r\n    this.id=id;\r\n    this.val=val;\r\n    this.max=max;\r\n    this.addVal=addVal;\r\n    this.price=price;\r\n    this.elapsed=0;\r\n    this.duration=duration,\r\n    this.decreaseVal=1;\r\n    this.add=function(addVal){\r\n\r\n      if(!addVal)addVal=this.addVal;\r\n\r\n      if(this.val+addVal>max){\r\n        this.val=this.max;\r\n      }else this.val=this.val+addVal;\r\n    }\r\n\r\n    this.decrease=function(decreaseVal){\r\n      if(!decreaseVal)decreaseVal=this.decreaseVal\r\n\r\n      if(this.val-decreaseVal<0){\r\n        this.val=0;\r\n      }else this.val=this.val-decreaseVal;\r\n    }\r\n}\r\n\r\nexport {Stat};\r\n","function Jobname(title=\"\") {\r\n\r\n    this.name = 'jobname';\r\n    this.title = title;\r\n}\r\n\r\nexport {Jobname};\r\n","import {Entity, World} from 'modules/world.js';\n\nimport {Hitbox} from 'components/common/hitbox.js';\nimport {Position} from 'components/common/position.js';\n\nimport {Question} from 'components/main/question.js';\nimport {Text} from 'components/main/text.js';\nimport {Background} from 'components/main/background.js';\nimport {Clickable} from 'components/main/clickable.js';\nimport {Stat} from 'components/main/Stat.js';\nimport {Coin} from 'components/main/coin.js';\nimport {Activate} from 'components/main/activate.js';\nimport {Jobname} from 'components/main/jobname.js';\n\nfunction start() {\n\n    console.log('start demo scene');\n\n    this.world = new World(this);\n    this.state.step=0;\n    var hunger,sleep,social,currency,questionGenerator={};\n\n    questionGenerator=new Entity('questionGenerator', [\n      new Question(\"first question\",function(answer){console.log(\"answer:\"+answer)})\n    ]);\n\n    hunger=new Entity('hunger', [\n        new Position(0,0),\n        new Hitbox(160,195),\n        new Background(\"grey\"),\n        new Text('Burger','yellow'),\n        new Stat('hunger',100,2,5,1,500),\n        new Jobname(),\n        new Clickable((entity)=>{\n          entity.get(\"stat\").add();\n          currency.get(\"coin\").decrease(entity.get(\"stat\").price)\n        }),\n        new Activate()\n    ]);\n\n    sleep=new Entity('sleep', [\n        new Position(160,0),\n        new Hitbox(160,195),\n        new Jobname(),\n        new Background(\"orange\"),\n        new Text('ZZZ','black'),\n        new Stat('sleep',100,1,1,1,1000),\n        new Clickable((entity)=>{\n          entity.get(\"stat\").add();\n          currency.get(\"coin\").decrease(entity.get(\"stat\").price)\n        }),\n        new Activate()\n      ]);\n\n    social=new Entity('social', [\n        new Position(0,195),\n        new Hitbox(160,195),\n        new Background(\"black\"),\n        new Jobname(),\n        new Stat('social',100,10,20,2,3000),\n        new Text('Dance','yellow'),\n        new Clickable((entity)=>{\n          entity.get(\"stat\").add();\n          currency.get(\"coin\").decrease(entity.get(\"stat\").price)\n        }),\n        new Activate()\n    ]);\n\n    currency=new Entity('currency', [\n        new Position(160,195),\n        new Hitbox(160,195),\n        new Background(\"brown\"),\n        new Coin(100),\n        new Jobname(),\n        new Text('Work','yellow'),\n        new Clickable((entity)=>{\n          entity.get(\"coin\").add();\n          social.get(\"stat\").decrease();\n        }),\n        new Activate()\n    ]);\n\n    var entities=[hunger,sleep,social,currency];\n    this.state.mainEntities=entities;\n    var allEntities=[hunger,sleep,social,currency,questionGenerator];\n\n    allEntities.forEach((entity)=>{this.world.add(entity)});\n\n}\n\nexport {start};\n","function Coin(val,addVal=1) {\r\n\r\n    this.name='coin';\r\n    this.val=val;\r\n    this.addVal=addVal;\r\n    this.add=function(){\r\n      this.val=this.val+this.addVal;\r\n    }\r\n    this.decrease=function(price){\r\n      this.val=this.val-price\r\n    }\r\n}\r\n\r\nexport {Coin};\r\n","import {collide} from 'modules/collide.js';\r\nimport {Point, Rectangle} from 'modules/shape.js';\r\n\r\nfunction start(entity) {\r\n\r\n    this.state.inputs.forEach((input) => {\r\n\r\n        if (input.type === 'MOUSE'\r\n        && input.action === 'CLICK_LEFT'\r\n        && input.state === 'DOWN') {\r\n\r\n            const mouse = new Point(input.x, input.y);\r\n            const hitbox = new Rectangle(0,0, this.size.width, this.size.height);\r\n\r\n            if (collide(mouse, hitbox) === true) {\r\n              this.load('main');\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nexport {start};\r\n","function force(entity) {\n\n    const forceComponent = entity.get('force');\n    const positionComponent = entity.get('position');\n\n    const remaining = forceComponent.duration - forceComponent.elapsed;\n    const delta = this.delta.update > remaining ? remaining : this.delta.update;\n\n    const progress = (forceComponent.elapsed + delta) / forceComponent.duration;\n\n    const moved = {\n\n        'x': forceComponent.x * forceComponent.easing(progress),\n        'y': forceComponent.y * forceComponent.easing(progress)\n    };\n\n    positionComponent.x += moved.x - forceComponent.moved.x;\n    positionComponent.y += moved.y - forceComponent.moved.y;\n    forceComponent.moved = moved;\n\n    forceComponent.elapsed += delta;\n\n    if (forceComponent.elapsed >= forceComponent.duration) {\n\n        forceComponent.ending(entity, this.delta.update - delta);\n    }\n}\n\nexport {force};\n","import {start} from 'systems/splashscreen/start.js';\n\nimport {force} from 'systems/common/force.js';\n\nfunction update() {\n\n  // console.log('update ending scene');\n\n  this.world.system(['start'], start);\n  this.world.system(['position', 'force'], force);\n\n\n  this.state.inputs.length = 0;\n\n}\n\nexport {update};\n","import {collide} from 'modules/collide.js';\nimport {Point, Rectangle} from 'modules/shape.js';\n\nfunction startAgain(entity) {\n\n    this.state.inputs.forEach((input) => {\n\n        if (input.type === 'MOUSE'\n        && input.action === 'CLICK_LEFT'\n        && input.state === 'DOWN') {\n\n            const mouse = new Point(input.x, input.y);\n            const hitbox = new Rectangle(0,0, this.size.width, this.size.height);\n\n            if (collide(mouse, hitbox) === true) {\n              this.load('main');\n            }\n        }\n    });\n}\n\nexport {startAgain};\n","import {startAgain} from 'systems/ending/startAgain.js';\n\nfunction update() {\n\n  // console.log('update ending scene');\n  \n  this.world.system(['score'], startAgain);\n\n  this.state.inputs.length = 0;\n\n}\n\nexport {update};\n","import {Entity, World} from 'modules/world.js';\nimport {Score} from 'components/ending/score.js';\n\nfunction start() {\n\n    this.world= new World(this);\n\n    this.world.add(new Entity('score', [\n        new Score()\n      ]))\n\n    console.log('start ending scene');\n\n    this.state.redirect = false;\n}\n\nexport {start};\n","function Score() {\r\n\r\n    this.name = 'score';\r\n}\r\n\r\nexport {Score};\r\n","function images(entity) {\n\n    const imagesComponent = entity.get('images');\n    const positionComponent = entity.get('position');\n\n    imagesComponent.parts.forEach((image) => {\n\n        const {destination, frame, framerate, frames, source} = image;\n\n        if (frames.length > 1) {\n\n            image.elapsed += this.delta.render;\n\n            const duration = 1000 / framerate;\n\n            while (image.elapsed >= duration) {\n\n                image.elapsed -= duration;\n                image.frame = (frame === frames.length - 1) ? 0 : frame + 1;\n            }\n        }\n\n        this.camera.add({\n\n            'source': source,\n            'frame': {\n\n                'x': frames[image.frame][2] * frames[image.frame][0],\n                'y': frames[image.frame][3] * frames[image.frame][1],\n                'width': frames[image.frame][2],\n                'height': frames[image.frame][3]\n            },\n            'destination': {\n\n                'x': positionComponent.x + destination[0],\n                'y': positionComponent.y + destination[1],\n                'z': positionComponent.z + destination[2],\n                'width': destination[3],\n                'height': destination[4]\n            }\n        });\n    });\n}\n\nexport {images};\n","import {images} from 'systems/common/images.js';\n\nfunction render() {\n\n    // console.log('render ending scene');\n\n    this.context.fillStyle = '#181a1f';\n    this.context.fillRect(0, 0, this.size.width, this.size.height);\n\n\n\n    this.context.textAlign = 'center';\n    this.context.textBaseline = 'middle';\n    this.context.font = '20px Courier New';\n\n    this.context.fillStyle = '#d7dae0';\n    this.context.fillText('Life is the currency', this.size.width/2, this.size.height/4);\n    this.context.font = '16px Courier New';\n\n        this.context.textAlign = 'center';\n        this.context.textBaseline = 'middle';\n\n        this.context.font = '16px Arial';\n\n    this.context.fillText('insert the coin', this.size.width/2, this.size.height/2+110);\n\n    this.world.system(['images','position'], images);\n\n}\n\nexport {render};\n","module.exports = \"data:image/png;base64,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\"","const datasets = [{\n  \"name\":'jobs',\n  \"scope\":\"main\",\n  \"source\":require(\"./main/jobs.json\"),\n  \"type\":\"dataset\"\n},{\n  \"name\":'questions',\n  \"scope\":\"main\",\n  \"source\":require(\"./main/questions.json\"),\n  \"type\":\"dataset\"\n}];\n\nexport {datasets};\n","const images = [{\n        'name': 'coin',\n        'scope': 'common',\n         'type': 'image',\n        'source': require('./common/token.png')\n    }];\n\nexport {images};\n","import {datasets} from './datasets/index.js';\nimport {images} from './images/index.js';\nimport {sounds} from './sounds/index.js';\n\nconst assets = [\n\n    ...datasets,\n    ...images,\n    ...sounds\n];\n\nexport {assets};\n","import {assets} from 'assets/index.js';\nimport * as scenes from 'scenes/index.js';\n\nimport {Theatre} from 'core/theatre.js';\n\nnew Theatre({\n\n    'assets': assets,\n    'container': document.body,\n    'expose': true,\n    'scenes': scenes,\n    'sharp': true,\n    'size': {\n        'width': 320,\n        'height': 530\n    }\n});\n","import {Camera} from 'core/camera.js';\nimport {Canvas} from 'core/canvas.js';\nimport {Loop} from 'core/loop.js';\n\nimport {preload} from 'core/preload.js';\n\nfunction Theatre(config) {\n\n    const {assets, container, scenes, size} = config;\n\n    const expose = config.expose || false;\n    const framerate = config.framerate || 60;\n    const sharp = config.sharp || false;\n    const speed = config.speed || 1;\n\n    let loading = null;\n    let restarting = false;\n\n    function initialize() {\n\n        const canvas = new Canvas('2d', 'theatre', this.size.width, this.size.height);\n        const camera = new Camera(canvas.context, this.size.width, this.size.height);\n\n        if (sharp === true) {\n\n            canvas.sharp();\n        }\n\n        container.appendChild(canvas.element);\n\n        this.container = container;\n        this.context = canvas.context;\n        this.element = canvas.element;\n        this.camera = camera;\n\n        this.assets = {};\n        this.delta = {};\n        this.delta.render = 0;\n        this.delta.update = 0;\n\n        this.scene = this.scenes.loading;\n        this.scene.setup.call(this);\n        this.scene.start.call(this);\n\n        const loop = new Loop(framerate, speed);\n\n        loop.update((timeframe) => {\n\n            this.delta.update = timeframe;\n            this.scene.update.call(this);\n            this.camera.update(timeframe);\n\n            if (restarting === true) {\n\n                this.scene.start.call(this);\n\n                restarting = false;\n\n                return;\n            }\n\n            if (loading !== null) {\n\n                this.scene.destroy.call(this);\n                this.scene = this.scenes[loading];\n                this.scene.setup.call(this);\n                this.scene.start.call(this);\n\n                loading = null;\n\n                return;\n            }\n        });\n\n        loop.render((timeframe) => {\n\n            this.delta.render = timeframe;\n            this.scene.render.call(this);\n            this.camera.render();\n        });\n\n        preload(assets, (assets) => {\n\n            assets.forEach((asset) => {\n\n                if (typeof this.assets[asset.type + 's'] === 'undefined') {\n\n                    this.assets[asset.type + 's'] = {};\n                }\n\n                if (typeof this.assets[asset.type + 's'][asset.scope] === 'undefined') {\n\n                    this.assets[asset.type + 's'][asset.scope] = {};\n                }\n\n                this.assets[asset.type + 's'][asset.scope][asset.name] = asset.getter;\n            });\n\n            this.preloading = false;\n        });\n\n        this.loop = loop;\n        this.preloading = true;\n    }\n\n    function load(scene) {\n\n        loading = scene;\n    }\n\n    function restart() {\n\n        restarting = true;\n    }\n\n    this.preloading = false;\n    this.scenes = scenes;\n    this.size = size;\n    this.state = {};\n    this.version = '0.26.0';\n\n    this.load = load;\n    this.restart = restart;\n\n    initialize.call(this, config);\n\n    if (expose === true) {\n\n        window.theatre = this;\n    }\n}\n\n// exports current module as an object\nexport {Theatre};\n","function Canvas(type, identifier, width, height) {\n\n    const element = document.createElement('canvas');\n    const context = element.getContext(type);\n    const ratio = window.devicePixelRatio || 1;\n\n    function sharp() {\n\n        this.element.style.imageRendering = '-moz-crisp-edges';\n        this.element.style.imageRendering = '-webkit-crisp-edges';\n        this.element.style.imageRendering = 'crisp-edges';\n        this.element.style.imageRendering = 'pixelated';\n        this.context.imageSmoothingEnabled = false;\n    }\n\n    element.setAttribute('id', identifier);\n    element.setAttribute('height', ratio * height);\n    element.setAttribute('width', ratio * width);\n\n    element.style.height = height + 'px';\n    element.style.width = width + 'px';\n\n    context.scale(ratio, ratio);\n\n    this.context = context;\n    this.element = element;\n    this.sharp = sharp;\n}\n\n// exports current module as an object\nexport {Canvas};\n","function Camera(context, width, height) {\n\n    let images = [];\n\n    let shaking = {\n\n        'current': false,\n        'duration': 0,\n        'easing': null,\n        'elapsed': 0,\n        'force': {\n\n            'x': 0,\n            'y': 0\n        },\n        'shift': {\n\n            'x': 0,\n            'y': 0\n        }\n    };\n\n    function add(image) {\n\n        let target = 0;\n\n        for (let iterator = images.length - 1; iterator >= 0; iterator -= 1) {\n\n            const current = images[iterator];\n\n            if (image.destination.z >= current.destination.z) {\n\n                target = iterator + 1;\n\n                break;\n            }\n        }\n\n        images.splice(target, 0, image);\n    }\n\n    function idle() {\n\n        shaking = {\n\n            'current': false,\n            'duration': 0,\n            'easing': null,\n            'elapsed': 0,\n            'force': {\n\n                'x': 0,\n                'y': 0\n            },\n            'shift': {\n\n                'x': 0,\n                'y': 0\n            }\n        };\n    }\n\n    function render() {\n\n        images.forEach((image) => {\n\n            const {destination, frame, source} = image;\n\n            if (this.visible(destination.x, destination.y, frame.width, frame.height) === true) {\n\n                context.drawImage(\n\n                    source,\n                    frame.x, frame.y, frame.width, frame.height,\n                    destination.x - (this.position.x + shaking.shift.x), destination.y - (this.position.y + shaking.shift.y), destination.width, destination.height\n                );\n            }\n        });\n\n        images = [];\n    }\n\n    function set(x, y) {\n\n        this.position.x = x;\n        this.position.y = y;\n    }\n\n    function shake(force, duration, easing) {\n\n        const {x, y} = force;\n\n        shaking.force = {\n\n            'x': x,\n            'y': y\n        };\n\n        shaking.current = true;\n        shaking.duration = duration;\n        shaking.easing = easing;\n    }\n\n    function update(delta) {\n\n        if (shaking.current === false) {\n\n            return;\n        }\n\n        if (shaking.elapsed + delta >= shaking.duration) {\n\n            this.idle();\n\n            return;\n        }\n\n        shaking.elapsed += delta;\n\n        const amplitude = shaking.easing(shaking.elapsed / shaking.duration);\n        const angle = Math.random() * 2 * Math.PI;\n\n        shaking.shift.x = Math.round(Math.cos(angle) * shaking.force.x * amplitude);\n        shaking.shift.y = Math.round(Math.sin(angle) * shaking.force.y * amplitude);\n    }\n\n    function visible(x, y, width, height) {\n\n        const camera = {\n\n            'x': this.position.x + shaking.shift.x,\n            'y': this.position.y + shaking.shift.y,\n            'width': this.size.width,\n            'height': this.size.height\n        };\n\n        if (x + width <= camera.x\n        || x >= camera.x + camera.width\n        || y + height <= camera.y\n        || y >= camera.y + camera.height) {\n\n            return false;\n        }\n\n        return true;\n    }\n\n    this.position = {\n\n        'x': 0,\n        'y': 0\n    };\n\n    this.size = {\n\n        'width': width,\n        'height': height\n    };\n\n    this.add = add;\n    this.idle = idle;\n    this.render = render;\n    this.set = set;\n    this.shake = shake;\n    this.update = update;\n    this.visible = visible;\n}\n\n// exports current module as an object\nexport {Camera};\n","function Loop(framerate = 60, speed = 1) {\n\n    let elapsedTime = 0;\n    let lastRender = null;\n    let lastUpdate = null;\n\n    function render(handler) {\n\n        const currentRender = Date.now();\n\n        if (lastRender !== null) {\n\n            handler(currentRender - lastRender);\n        }\n\n        // call user's render handler on each available frame\n        requestAnimationFrame(this.render.bind(this, handler));\n\n        lastRender = currentRender;\n    }\n\n    function update(handler) {\n\n        const currentUpdate = Date.now();\n\n        if (lastUpdate !== null) {\n\n            // define elapsed time since last update\n            elapsedTime += currentUpdate - lastUpdate;\n        }\n\n        // call user's update handler matching timeframe, speed and fixing browser time handling\n        while (elapsedTime >= 1000 / this.framerate / this.speed) {\n\n            // define elapsed time since last user's update handler matching timeframe and speed\n            elapsedTime -= 1000 / this.framerate / this.speed;\n\n            handler(1000 / this.framerate);\n        }\n\n        lastUpdate = currentUpdate;\n\n        // call update loop at least 60 times per second to quickly catch framerate or speed changes\n        setTimeout(this.update.bind(this, handler), 1000 / Math.max(this.framerate, 60));\n    }\n\n    this.framerate = framerate;\n    this.speed = speed;\n\n    this.render = render;\n    this.update = update;\n}\n\n// exports current module as an object\nexport {Loop};\n","function preload(assets, handler) {\n\n    let promises = [];\n\n    // preloads each asset\n    assets.forEach(function (asset) {\n\n        // creates a promise for current asset preloading\n        const promise = new Promise(function (resolve, reject) {\n\n            // if current asset is a dataset then preload it\n            if (asset.type === 'dataset') {\n\n                asset.getter = () => asset.source;\n\n                resolve(asset);\n            }\n\n            // if current asset is an image then preload it\n            if (asset.type === 'image') {\n\n                const image = new Image();\n\n                image.src = asset.source;\n\n                // when current image is loaded then resolve current promise\n                image.onload = function () {\n\n                    asset.getter = () => image;\n\n                    resolve(asset);\n                };\n            }\n\n            // if current asset is a sound then preload it\n            else if (asset.type === 'sound') {\n\n                const sound = new Audio(asset.source);\n\n                // when current sound is loaded then resolve current promise\n                sound.oncanplaythrough = function () {\n\n                    asset.getter = () => sound.cloneNode();\n\n                    resolve(asset);\n                };\n            }\n        });\n\n        promises.push(promise);\n    });\n\n    // call user's success handler when all assets are preloaded\n    Promise.all(promises).then(handler);\n}\n\n// exports current module as a function\nexport {preload};\n"],"sourceRoot":""}